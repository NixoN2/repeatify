(this.webpackJsonprepeatify=this.webpackJsonprepeatify||[]).push([[0],{23:function(e){e.exports=JSON.parse('{"domain":"nixonweb.eu.auth0.com","clientId":"qzmEQfE2dizUz7xDGO5nboUbE4OZkPZO","audience":"https://repeatify.herokuapp.com"}')},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var r,c=n(0),i=n.n(c),a=n(27),o=n.n(a),l=n(5),s=n(7),u=n(9),d=n.n(u),b=n(18),j=n(1),x=function(e){var t=e.children;return Object(j.jsx)("div",{className:"w-screen h-screen bg-unauthorized-bg-color flex justify-center items-center",children:t})},m=n(4),h=n(14),f=n(12),p=n(2),v=Object(p.d)({name:"user",initialState:{user:{auth0Id:window.localStorage.getItem("auth0Id")||!1,id:0,firstName:"",lastName:"",email:"",role:""},token:window.localStorage.getItem("token")||""},reducers:{setUser:function(e,t){e.user=t.payload},setToken:function(e,t){e.token=t.payload}}}),O=Object(m.a)({},v.actions),g=v.reducer,w=Object(p.d)({name:"collections",initialState:{collections:[],currentCollection:null},reducers:{setCollections:function(e,t){e.collections=t.payload},setCollection:function(e,t){e.currentCollection=t.payload}}}),N=Object(m.a)({},w.actions),y=w.reducer,C=n(21),k=n(8),S=Object(C.a)({reducerPath:"usersApi",baseQuery:Object(k.d)({baseUrl:"https://repeatify.herokuapp.com",prepareHeaders:function(e,t){var n=(0,t.getState)().user.token;return n&&e.set("Authorization","Bearer ".concat(n)),e}}),endpoints:function(e){return{GetUser:e.query({query:function(e){return"users/".concat(e)}}),GetUsers:e.query({query:function(e){return"users/".concat(e)}})}}}),I=S.useGetUserQuery,E=(S.useGetUsersQuery,Object(C.a)({reducerPath:"collectionsApi",baseQuery:Object(k.d)({baseUrl:"https://repeatify.herokuapp.com",prepareHeaders:function(e,t){var n=(0,t.getState)().user.token;return n&&e.set("Authorization","Bearer ".concat(n)),e}}),endpoints:function(e){return{GetCollections:e.query({query:function(){return"collections"}}),GetCollection:e.query({query:function(e){return"collections/".concat(e)}}),CreateCollection:e.mutation({query:function(e){return{url:"collections",method:"POST",body:e}}}),CreateCard:e.mutation({query:function(e){return{url:"card",method:"POST",body:e}}}),AddEditor:e.mutation({query:function(e){return{url:"/editors/".concat(e.collectionId),method:"POST",body:e}}})}}})),L=E.useGetCollectionQuery,_=E.useGetCollectionsQuery,P=E.useCreateCollectionMutation,A=E.useCreateCardMutation,U=E.useAddEditorMutation,q=Object(C.a)({reducerPath:"auth",baseQuery:Object(k.d)({baseUrl:"https://repeatify.herokuapp.com",prepareHeaders:function(e,t){var n=(0,t.getState)().user.token;return n&&e.set("Authorization","Bearer ".concat(n)),e}}),endpoints:function(e){return{Login:e.mutation({query:function(e){return{url:"login",method:"POST",body:e}}}),SignUp:e.mutation({query:function(e){return{url:"register",method:"POST",body:e}}})}}}),T=(q.useLoginMutation,q.useSignUpMutation,Object(f.b)((r={},Object(h.a)(r,S.reducerPath,S.reducer),Object(h.a)(r,E.reducerPath,E.reducer),Object(h.a)(r,q.reducerPath,q.reducer),Object(h.a)(r,"user",g),Object(h.a)(r,"collections",y),r))),G=Object(m.a)(Object(m.a)({},N),O),z=Object(p.a)({reducer:T,middleware:function(e){return e().concat(S.middleware,E.middleware,q.middleware)}}),Q=Object(m.a)({},G),M=z;Object(k.e)(z.dispatch);var R=n(3),B=n(16),D=(n(69),function(){var e=function(){Object(s.f)(),Object(R.d)();var e=Object(B.b)().loginWithRedirect,t=Object(c.useContext)(fe),n=Object(l.a)(t,1)[0],r=function(){var t=Object(b.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.preventDefault(),window.localStorage.setItem("redirected",!0),n(!0),e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{toggleAuth0Login:r}}(),t=e.toggleAuth0Login;return Object(j.jsxs)("form",{className:"bg-white rounded-lg w-5/6 p-8 px-4 md:px-12 md:w-4/6 xl:w-1/2 2xl:w-1/3 2xl:p-12",children:[Object(j.jsx)("p",{className:"text-center text-3xl mb-8 2xl:text-5xl",children:"Login"}),Object(j.jsx)("button",{onClick:t,className:" flex mx-auto items-center h-12 w-1/2 justify-center mb-6 bg-unauthorized-bg-color text-white text-xl rounded-xl 2xl:h-16 2xl:text-2xl 2xl:w-1/2",children:"Login with Auth0"})]})}),H=function(){var e=Object(s.f)(),t=Object(B.b)(),n=t.user,r=t.getAccessTokenSilently,i=Object(R.d)();return Object(c.useEffect)((function(){Object(b.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.localStorage.getItem("token")||!window.localStorage.getItem("redirected")){t.next=12;break}return t.prev=1,t.next=4,r({audience:"https://repeatify.herokuapp.com"});case 4:n=t.sent,i(Q.setToken(n)),(null===n||void 0===n?void 0:n.length)>0&&(e.push("/collections"),window.localStorage.setItem("token",n)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()}),[n,r]),Object(j.jsx)(x,{children:Object(j.jsx)(D,{})})},J=n(15),Z=n(19),F=n(48),W=n(49),Y=n(22),K=n.n(Y),V=function(e){var t,n=e.onClick,r=e.name,c=e.tag,i=e.registered,a=e.id,o=e.children;return t=Object(j.jsx)("li",{onClick:n,"data-name":r,"data-tag":c,className:"text-carolina-blue text-lg p-2 hover:bg-gray-100 w-full text-center cursor-pointer",children:o}),i&&"login"===t.props["data-tag"]||!i&&"logout"!==t.props["data-tag"]?null:(i?["/collections","/","/create","/profile/".concat(a)]:["/collections","/","/register"]).filter((function(e){return t.props["data-name"]===e})).length>0&&t},X=function(){var e=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(c.useContext)(fe),a=Object(l.a)(i,1)[0],o=Object(R.e)((function(e){return e.user})).user,u=Object(s.f)(),d=void 0!==(null===o||void 0===o?void 0:o.first_name),b="".concat(null===o||void 0===o?void 0:o.first_name," ").concat(null===o||void 0===o?void 0:o.last_name);return Object(c.useEffect)((function(){if(n){var e=function(e){setTimeout((function(){e.target.closest('[role="menu"]')instanceof Element||r(!1)}),10)};return setTimeout((function(){document.addEventListener("click",e)}),1),function(){return document.removeEventListener("click",e)}}}),[n]),{toggle:function(){return r(!n)},open:n,registered:d,routesSetter:a,clickLink:function(e){u.push(e.target.dataset.name)},fullName:b,id:null===o||void 0===o?void 0:o.auth0Id}}(),t=e.toggle,n=e.open,r=e.registered,i=e.routesSetter,a=e.clickLink,o=e.fullName,u=e.id,d=Object(B.b)().logout;return Object(j.jsxs)("div",{className:"fixed filter drop-shadow-xl flex justify-between items-center bg-white w-screen p-4",children:[Object(j.jsx)("p",{className:"text-carolina-blue text-3xl",children:"Repeatify"}),Object(j.jsxs)("div",{onClick:t,children:[r?Object(j.jsxs)("p",{className:"flex text-2xl transition duration-300 ease-in-out text-carolina-blue hover:text-prussian-blue cursor-pointer",children:[o,Object(j.jsx)(Z.a,{className:"mt-1",icon:n?W.a:F.a})]}):Object(j.jsx)("div",{className:"mr-16 flex text-2xl transition duration-300 ease-in-out text-carolina-blue hover:text-prussian-blue cursor-pointer",children:"Guest"}),Object(j.jsx)("div",{role:"menu",className:K()({"-top-64 ":!n},"fixed transition duration-300 ease-in-out top-16 right-4 w-48 filter drop-shadow-xl"),children:Object(j.jsxs)("ul",{className:"flex justify-center items-center flex-col bg-white border border-gray-200",children:[Object(j.jsx)(V,{onClick:a,id:u,registered:r,tag:"login",name:"/",children:"Login"}),Object(j.jsx)(V,{onClick:a,id:u,registered:r,name:"/register",children:"Register"}),Object(j.jsx)(V,{onClick:a,id:u,registered:r,name:"/collections",children:"Collections"}),Object(j.jsx)(V,{onClick:a,id:u,registered:r,name:"/profile/".concat(u),children:"Profile"}),Object(j.jsx)(V,{onClick:a,id:u,registered:r,name:"/create",children:"Create Collection"}),Object(j.jsx)(V,{onClick:function(e){window.localStorage.removeItem("auth0Id"),window.localStorage.removeItem("token"),window.localStorage.removeItem("redirected"),i(!1),d(),a(e)},name:"/",tag:"logout",children:"Logout"})]})})]})]})},$=function(e){var t=e.children;return Object(j.jsxs)("div",{className:"h-screen bg-unauthorized-bg-color overflow-x-hidden ",children:[Object(j.jsx)(X,{}),Object(j.jsx)("div",{className:"flex justify-center items-center",children:t})]})},ee=(n(50),function(e){var t=e.id,n=e.name,r=e.author,c=e.description,i=e.collection,a=Object(s.f)(),o=Object(R.d)();return Object(j.jsxs)("div",{onClick:function(){o(Q.setCollection(i)),a.push("/collection/".concat(t))},className:"p-4 bg-carolina-blue hover:bg-prussian-blue cursor-pointer rounded-xl",children:[Object(j.jsx)("p",{className:"text-2xl text-gray-100 mb-4",children:n}),Object(j.jsx)("p",{className:"text-lg text-gray-100 mb-4",children:c}),Object(j.jsx)("p",{className:"text-2xl text-gray-100 float-right",children:r})]})}),te=function(){var e=function(e){var t=Object(R.e)((function(e){return e.user})).user,n=I(e),r=n.data,c=n.isLoading,i=null===r||void 0===r?void 0:r.author.filter((function(e){return e.author.id===t.id||!e.private}));return{animal:null===r||void 0===r?void 0:r.animal,color:null===r||void 0===r?void 0:r.color,picture:null===r||void 0===r?void 0:r.picture,first_name:null===r||void 0===r?void 0:r.first_name,last_name:null===r||void 0===r?void 0:r.last_name,collections:i,email:null===r||void 0===r?void 0:r.email,isLoading:c}}(window.location.href.split("/profile/")[1]),t=(e.animal,e.color,e.picture),n=e.first_name,r=e.last_name,c=e.email,i=e.collections,a=e.isLoading;return Object(j.jsxs)("div",{className:"w-3/6 mt-32 mb-20 h-screen rounded-xl py-8 px-12 bg-white",children:[Object(j.jsx)("p",{className:"text-4xl text-carolina-blue text-center mb-10",children:"Profile"}),a?Object(j.jsx)("div",{className:"flex justify-center items-center",children:Object(j.jsx)("div",{style:{borderTopColor:"transparent"},className:"w-12 h-12 border-4 border-carolina-blue border-solid rounded-full animate-spin"})}):Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{className:"mx-auto rounded-full w-32 h-32",src:t,alt:"profile"}),Object(j.jsx)("p",{className:"text-center text-2xl text-carolina-blue mt-10 mb-4",children:"".concat(n," ").concat(r)}),Object(j.jsx)("p",{className:"text-center text-2xl text-carolina-blue mb-10",children:c}),Object(j.jsx)("p",{className:"text-center text-3xl text-carolina-blue mb-6",children:"".concat(n,"'s Collections")}),Object(j.jsx)("div",{children:void 0!==i&&(null===i||void 0===i?void 0:i.length)>0?Object(j.jsx)("div",{className:"grid gap-x-16 gap-y-16 grid-cols-3",children:i.map((function(e){var t,n;return Object(j.jsx)(ee,{id:null===e||void 0===e?void 0:e.id,name:null===e||void 0===e?void 0:e.name,description:null===e||void 0===e?void 0:e.description,privateCollection:null===e||void 0===e?void 0:e.description,author:"".concat(null===e||void 0===e||null===(t=e.author)||void 0===t?void 0:t.first_name," ").concat(null===e||void 0===e||null===(n=e.author)||void 0===n?void 0:n.last_name)},null===e||void 0===e?void 0:e.id)}))}):Object(j.jsx)("p",{className:"text-center text-3xl text-carolina-blue",children:"No collections"})})]})]})},ne=function(){var e=Object(B.b)().user,t=I(null===e||void 0===e?void 0:e.sub,{skip:!e}),n=t.data,r=t.isLoading,i=Object(R.d)();Object(c.useEffect)((function(){(null===n||void 0===n?void 0:n.auth0Id)&&i(Q.setUser(n)),(null===n||void 0===n?void 0:n.auth0Id)&&window.localStorage.setItem("auth0Id",n.auth0Id)}),[r,null===n||void 0===n?void 0:n.auth0Id])},re=function(){return ne(),Object(j.jsx)($,{children:Object(j.jsx)(te,{})})},ce=n(51),ie=function(){var e=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(R.e)((function(e){return e.collections})).collections,a=Object(R.d)(),o=_(),s=o.data,u=o.isLoading;Object(c.useEffect)((function(){a(Q.setCollections(s))}),[s]);var d=Object(R.e)((function(e){return e.user})).user,b=(null===i||void 0===i?void 0:i.length)>0&&i.filter((function(e){return(e.name.toLowerCase().includes(n)||e.author.first_name.toLowerCase().includes(n)||e.author.last_name.toLowerCase().includes(n))&&(!e.private||e.author.id===d.id||(t=e.editors,r=d.id,t.filter((function(e){return e.editor.id===r})).length>0));var t,r}));return{search:n,onSearch:function(e){return r(e.target.value)},filtered:b,collections:i,isLoading:u}}(),t=e.search,n=e.onSearch,r=e.filtered,i=e.collections,a=e.isLoading;return Object(j.jsxs)("div",{className:"w-3/5 mt-32 min-h-screen mb-20 rounded-xl py-8 px-12 bg-white",children:[Object(j.jsx)("p",{className:"text-center text-4xl text-carolina-blue mb-4",children:"Collections"}),Object(j.jsxs)("div",{className:"mb-10 mx-auto flex rounded-md shadow-sm w-3/6 h-10 border-2",children:[Object(j.jsx)("span",{className:"inline-flex items-center px-3 rounded-l-md border-r bg-gray-50 text-gray-500 text-sm",children:Object(j.jsx)(ce.a,{})}),Object(j.jsx)("input",{onChange:n,value:t,type:"text",className:"pl-4 focus:outline-none flex-1 block w-full rounded-none rounded-r-md sm:text-sm border-gray-300",placeholder:"Search..."})]}),a?Object(j.jsx)("div",{className:"flex justify-center items-center",children:Object(j.jsx)("div",{style:{borderTopColor:"transparent"},className:"w-12 h-12 border-4 border-carolina-blue border-solid rounded-full animate-spin"})}):(null===i||void 0===i?void 0:i.length)>0?(null===r||void 0===r?void 0:r.length)>0?Object(j.jsx)("div",{className:"grid gap-x-16 gap-y-16 grid-cols-3",children:r.map((function(e){return Object(j.jsx)(ee,{id:e.id,name:e.name,description:e.description,privateCollection:e.private,author:"".concat(e.author.first_name," ").concat(e.author.last_name),collection:e},e.id)}))}):Object(j.jsx)("p",{className:"text-center text-2xl text-carolina-blue",children:"No collections found"}):Object(j.jsx)("p",{className:"text-center text-2xl text-carolina-blue",children:"No collections"})]})},ae=function(){return ne(),Object(j.jsx)($,{children:Object(j.jsx)(ie,{})})},oe=n(29),le=n(30),se=n(31),ue=function(e){var t=e.className,n=function(){var e=Object(c.useState)({name:"",material:""}),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(R.d)(),a=Object(R.e)((function(e){return e.collections})).currentCollection,o=A(),s=Object(l.a)(o,1)[0];return{fieldOnChange:function(e){return r(Object(m.a)(Object(m.a)({},n),{},Object(h.a)({},e.target.name,e.target.value)))},name:n.name,material:n.material,addCard:function(){return s({collectionId:a.id,name:n.name,material:n.material}).unwrap().then((function(e){i(Q.setCollection(Object(m.a)(Object(m.a)({},a),{},{cards:[].concat(Object(se.a)(a.cards),[e])}))),r({name:"",material:""})})).catch((function(e){return console.log(e)}))}}}(),r=n.name,i=n.material,a=n.addCard,o=n.fieldOnChange;return Object(j.jsxs)("div",{className:t,children:[Object(j.jsx)("p",{className:"text-2xl text-carolina-blue mb-6",children:"Create new card:"}),Object(j.jsx)("p",{className:"text-xl text-carolina-blue mb-2",children:"Name:"}),Object(j.jsx)("input",{onChange:o,value:r,name:"name",className:"w-2/5 h-10 pl-4 border-2 rounded-md border-carolina-blue mb-4",placeholder:"Enter card's name:"}),Object(j.jsx)("p",{className:"text-xl text-carolina-blue mb-2",children:"Material:"}),Object(j.jsx)("textarea",{onChange:o,value:i,name:"material",className:"block w-3/5 mb-3 px-4 h-20 border-2 rounded-md border-carolina-blue"}),Object(j.jsx)("button",{onClick:a,className:"p-3 w-40 bg-carolina-blue hover:bg-prussian-blue text-gray-100 rounded-xl",children:"Add card"})]})},de=(n(91),function(e){e.id;var t=e.material,n=e.name,r=Object(c.useState)(!0),i=Object(l.a)(r,2),a=i[0],o=i[1];return Object(j.jsx)("div",{className:K()({hover:!a},"flip-container"),onClick:function(){return o(!a)},children:Object(j.jsx)("div",{className:"flipper",children:a?Object(j.jsx)("div",{className:"front text-gray-100 text-2xl w-72 cursor-pointer h-40 flex flex-col justify-center items-center p-2 rounded-xl bg-carolina-blue hover:bg-prussian-blue",children:n}):Object(j.jsx)("div",{className:"back text-gray-100 text-2xl w-72 h-40 cursor-pointer flex flex-col justify-center items-center p-2 rounded-xl bg-carolina-blue hover:bg-prussian-blue",children:t})})})}),be=function(){var e,t,n,r,i,a,o,u=function(){var e=Object(R.e)((function(e){return e.collections})).currentCollection,t=Object(c.useState)(null===e||void 0===e?void 0:e.editors),n=Object(l.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)(""),o=Object(l.a)(a,2),s=o[0],u=o[1],j=U(),x=Object(l.a)(j,1)[0],m=function(){var t=Object(b.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",x({collectionId:e.id,email:s}).unwrap().then((function(e){return i([].concat(Object(se.a)(r),[e]))})).catch((function(e){return console.log(e)})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{search:s,onSearch:function(e){return u(e.target.value)},addEditor:m,editors:r}}(),x=u.editors,m=u.search,h=u.onSearch,f=u.addEditor,p=function(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)(!1),o=Object(l.a)(a,2),s=o[0],u=o[1],j=Object(R.e)((function(e){return e.user})).user,x=Object(R.d)(),m=Object(R.e)((function(e){return e.collections})).currentCollection,h=L(e),f=h.data,p=h.isLoading;return Object(c.useEffect)((function(){var e=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(Q.setCollection(f));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[f]),{collection:m,isLoading:p,toggle:function(){i(!r)},toggleEdit:function(){return u(!s)},add:r,edit:s,id:j.auth0Id}}(window.location.href.split("/collection/")[1]),v=p.collection,O=p.add,g=p.edit,w=p.toggleEdit,N=p.toggle,y=p.id,C=p.isLoading,k=Object(s.f)();return Object(j.jsxs)("div",{className:"w-4/5 mt-32 mb-20 rounded-xl min-h-screen bg-white flex justify-between",children:[Object(j.jsx)("div",{className:"mx-auto mt-8 pb-10 w-3/5 px-8",children:C?Object(j.jsx)("div",{className:"flex justify-center items-center",children:Object(j.jsx)("div",{style:{borderTopColor:"transparent"},className:"w-12 h-12 border-4 border-carolina-blue border-solid rounded-full animate-spin"})}):Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{className:"text-4xl text-carolina-blue text-center mb-2 flex justify-center items-center",children:[null===v||void 0===v?void 0:v.name,(y===(null===v||void 0===v||null===(e=v.author)||void 0===e?void 0:e.id)||(null===v||void 0===v||null===(t=v.editors)||void 0===t||null===(n=t.filter((function(e){var t=e.editor;return(null===t||void 0===t?void 0:t.id)===y})))||void 0===n?void 0:n.length)>0)&&Object(j.jsx)(Z.a,{onClick:w,className:"cursor-pointer ml-2 inline w-7 h-7",icon:g?le.a:oe.a})]}),g&&Object(j.jsx)(ue,{}),(null===v||void 0===v||null===(r=v.cards)||void 0===r?void 0:r.length)>0?Object(j.jsx)("div",{className:"mt-8 grid gap-x-16 gap-y-16 grid-cols-3",children:v.cards.map((function(e){return Object(j.jsx)(de,{id:e.id,name:e.name,material:e.material},e.id)}))}):Object(j.jsx)("p",{className:"text-3xl text-carolina-blue text-center",children:"No cards added to the collection"})]})}),Object(j.jsxs)("div",{className:"w-1/4 rounded-r-xl bg-carolina-blue",children:[C?Object(j.jsx)("div",{className:"animate-pulse mt-8 rounded-md flex justify-center bg-gray-200 w-64 h-7 mx-auto"}):Object(j.jsxs)("div",{className:"mb-10 mt-8 flex justify-center",children:[Object(j.jsx)("p",{className:"text-xl text-white",children:"Author:"}),Object(j.jsx)("p",{onClick:function(){return k.push("/profile/".concat(null===v||void 0===v?void 0:v.author.auth0Id))},className:"text-xl ml-4 text-white hover:text-prussian-blue transition duration-300 ease-in-out cursor-pointer",children:"".concat(null===v||void 0===v||null===(i=v.author)||void 0===i?void 0:i.first_name," ").concat(null===v||void 0===v||null===(a=v.author)||void 0===a?void 0:a.last_name)})]}),y===(null===v||void 0===v||null===(o=v.author)||void 0===o?void 0:o.auth0Id)?Object(j.jsx)("div",{className:"flex justify-center items-center",children:O?Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{value:m,onChange:h,type:"email",placeholder:"Enter email: ",className:"pl-3 w-72 h-10 text-xl text-carolina-blue"}),Object(j.jsx)("button",{onClick:Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(),e.next=3,f();case 3:case"end":return e.stop()}}),e)}))),className:"h-10 ml-3 w-8 rounded-xl text-center text-carolina-blue bg-white text-xl",children:"+"})]}):Object(j.jsx)("button",{onClick:N,className:"w-80 h-10 bg-white rounded-xl text-center text-carolina-blue text-xl",children:"Add Editor"})}):null,(null===x||void 0===x?void 0:x.length)>0||!C?Object(j.jsxs)("div",{className:"mt-4",children:[Object(j.jsx)("p",{className:"text-white text-3xl text-center",children:"Editors"}),null===x||void 0===x?void 0:x.map((function(e){var t,n;return Object(j.jsxs)("p",{onClick:function(){var t;k.push("/profile/".concat(null===e||void 0===e||null===(t=e.editor)||void 0===t?void 0:t.auth0Id))},className:"text-2xl text-white hover:text-prussian-blue transition duration-300 ease-in-out cursor-pointer text-center",children:[null===e||void 0===e||null===(t=e.editor)||void 0===t?void 0:t.first_name," ",null===e||void 0===e||null===(n=e.editor)||void 0===n?void 0:n.last_name]},e.editor.id)}))]}):null]})]})},je=function(){return ne(),Object(j.jsx)($,{children:Object(j.jsx)(be,{})})},xe=function(){var e=function(){var e=Object(R.e)((function(e){return e.user})).user,t=Object(R.d)(),n=Object(c.useState)(""),r=Object(l.a)(n,2),i=r[0],a=r[1],o=P(),s=Object(l.a)(o,1)[0],u=Object(c.useState)(!1),d=Object(l.a)(u,2),b=d[0],j=d[1],x=Object(c.useState)(!0),h=Object(l.a)(x,2),f=h[0],p=h[1],v=Object(c.useState)(!1),O=Object(l.a)(v,2),g=O[0],w=O[1],N=Object(R.e)((function(e){return e.collections})).currentCollection;return Object(c.useEffect)((function(){return t(Q.setCollection(null))}),[]),{name:i,change:f,togglePrivate:function(){return j(!b)},toggle:function(){return p(!f)},onNameChange:function(e){return f&&a(e.target.value)},created:g,saveCollection:function(){return s({userId:e.id,private:b,name:i}).unwrap().then((function(e){t(Q.setCollection(Object(m.a)(Object(m.a)({},e),{},{cards:[]}))),w(!0)})).catch((function(e){return console.log(e)}))},cards:N&&N.cards}}(),t=e.name,n=e.change,r=e.toggle,i=e.togglePrivate,a=e.onNameChange,o=e.created,s=e.saveCollection,u=e.cards;return Object(j.jsxs)("div",{className:"w-3/6 mt-32 mb-20 h-screen rounded-xl py-8 px-12 bg-white",children:[Object(j.jsx)("p",{className:"text-4xl text-carolina-blue text-center mb-16",children:"Create your collection"}),Object(j.jsx)("p",{className:"text-2xl text-carolina-blue mb-6",children:"Give your collection a name:"}),Object(j.jsxs)("div",{className:"mb-2 flex items-center",children:[Object(j.jsx)("input",{className:K()({"text-gray-500":!n},"w-2/5 h-10 pl-4 border-2 rounded-md border-carolina-blue"),value:t,onChange:a,type:"text",placeholder:"Enter collection's name:",disabled:!n}),t?n?Object(j.jsx)(Z.a,{className:"text-2xl ml-3 text-carolina-blue cursor-pointer",onClick:r,icon:le.a}):Object(j.jsx)(Z.a,{className:"text-2xl ml-3 text-carolina-blue cursor-pointer",onClick:r,icon:oe.a}):null]}),Object(j.jsxs)("div",{className:"mb-4 flex items-center",children:[Object(j.jsx)("input",{onChange:i,className:"mr-2 w-4 h-4 cursor-pointer",type:"checkbox"}),Object(j.jsx)("p",{className:"text-carolina-blue",children:"Private Collection"})]}),!o&&Object(j.jsx)("button",{onClick:s,className:"p-3 w-40 bg-carolina-blue hover:bg-prussian-blue text-gray-100 rounded-xl mb-4",children:"Save"}),o&&Object(j.jsx)(ue,{}),(null===u||void 0===u?void 0:u.length)>0&&Object(j.jsx)("p",{className:"text-center text-4xl text-carolina-blue mt-2 mb-6",children:"Cards"}),Object(j.jsx)("div",{className:"grid gap-x-16 gap-y-16 mb-10 grid-cols-3",children:u&&u.map((function(e){return Object(j.jsx)(de,{id:e.id,name:e.name,material:e.material},e.id)}))})]})},me=function(){return ne(),Object(j.jsx)($,{children:Object(j.jsx)(xe,{})})},he=function(e){return[{path:"/",component:H},{path:"/collections",component:ae},{path:"/profile/:id",component:re},{path:"/collection/:id",component:je},{path:"/create",component:me}]},fe=Object(c.createContext)();var pe=function(){var e=Object(R.e)((function(e){return e.user})).user,t=Object(c.useState)(he(null===e||void 0===e||e.auth0Id)),n=Object(l.a)(t,2),r=n[0],i=n[1];return Object(j.jsx)(fe.Provider,{value:[function(e){return i(he())}],children:Object(j.jsx)(s.c,{children:(null===r||void 0===r?void 0:r.length)>0&&r.map((function(e){return Object(j.jsx)(s.a,{exact:!0,path:e.path,component:e.component},"route-".concat(e.path))}))})})},ve=n(23);var Oe=function(e){var t=e.children,n=function(){var e=ve.audience&&"YOUR_API_IDENTIFIER"!==ve.audience?ve.audience:null;return Object(m.a)({domain:ve.domain,clientId:ve.clientId},e?{audience:e}:null)}(),r=n.domain,c=n.clientId,i=n.audience;return Object(j.jsx)(B.a,{domain:r,clientId:c,redirectUri:window.location.origin,audience:i,children:t})};n(92);o.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(J.a,{children:Object(j.jsx)(R.a,{store:M,children:Object(j.jsx)(Oe,{children:Object(j.jsx)(pe,{})})})})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.be53378a.chunk.js.map